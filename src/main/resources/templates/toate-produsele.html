<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <title>Toate produsele</title>
    <link rel="stylesheet" th:href="@{/bootstrap/css/bootstrap.min.css}">
    <link rel="stylesheet" th:href="@{/css/Footer-Basic.css}">
    <link rel="stylesheet" th:href="@{/css/styles.css}">
</head>

<body>
<nav class="navbar navbar-dark navbar-expand-md bg-success fixed-top">
    <div class="container-fluid"><img class="logo" th:src="@{/img/Pill_256px.png}"><a class="navbar-brand"><strong>Demo project with Spring Boot, MonogoDB, Thymeleaf</strong></a>
        <button data-toggle="collapse" class="navbar-toggler" data-target="#navcol-1">
            <span class="sr-only">Toggle navigation</span>
            <span class="navbar-toggler-icon"></span>
        </button>
        <div
                class="collapse navbar-collapse" id="navcol-1">
            <ul class="nav navbar-nav ml-auto">
                <li class="nav-item"><a class="nav-link" href="/rapoarte">Rapoarte</a></li>
                <li class="nav-item"><a class="nav-link" href="/nou">Adauga produs</a></li>
                <li class="nav-item"><a class="nav-link" href="/select/toate">Lista de produse</a></li>
            </ul>
        </div>
    </div>
</nav>
<div class="table-title">
    <h1>Produse din stoc</h1>
</div>
<div class="table-responsive">
    <table class="table">
        <thead>
        <tr>
            <th>DENUMIRE COMERCIALA</th>
            <th>PRODUCATOR</th>
            <th>PRET</th>
            <th>CANTITATE</th>
            <th>DCI</th>
            <th>GRUPA ATC</th>
            <th>INDICATII</th>
            <th>CONCENTRATIE</th>
            <th>BBD</th>
            <th>OPERATII</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="p : ${produse}">
            <td th:text="${p.denComerciala}">denComerciala</td>
            <td th:text="${p.producator}">producator</td>
            <td th:text="${p.pret} + ' lei'">pret</td>
            <td th:text="${p.cantitate} + ' buc.'">cantitate</td>
            <td th:text="${p.dciDenDci}">denDci</td>
            <td th:text="${p.dciGrupaAtc}">grupaAtc</td>
            <td th:text="${p.indicatiiEnumerate}">indicatii</td>
            <td th:text="${p.concentratie}">concentratie</td>
            <td th:text="${p.bbdString}">bbd</td>
            <td>
                <button
                        type="button"
                        class="btn-sm btn-primary btn-size-custom"
                        onclick="document.location.href=this.getAttribute('href');"
                        th:href="@{'/actualizare/' + ${p.id}}">Actualizare
                </button>
                <br><br>
                <button type="button" class="btn-sm btn-danger btn-size-custom" data-toggle="modal"
                        th:attr="data-target='#recordDeleteModal'+${p.id}">Stergere</button>

                <!-- Modal (for pretty confirmation dialog) -->
                <div class="modal fade" th:attr="id='recordDeleteModal'+${p.id}" tabindex="-1" role="dialog" aria-labelledby="recordDeleteModalLabel" aria-hidden="true">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="recordDeleteModalLabel">Sterge produsul</h5>
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </div>
                            <div class="modal-body">
                                Esti sigur ca dorești ștergerea produsului?
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-dismiss="modal">NU</button>
                                <a href="toate-produsele.html" class="btn btn-primary" th:attr="href='/stergere/' + ${p.id}">DA</a>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Modal end -->

            </td>
        </tr>
        <tr></tr>
        </tbody>
    </table>



</div>
<div class="footer-basic fixed-bottom">
    <footer>
        <p class="copyright">Costin Chelu © 2021</p>
    </footer>
</div>

<script th:src="@{/js/jquery.min.js}"></script>
<script th:src="@{/bootstrap/js/bootstrap.min.js}"></script>
<script th:src="@{/js/bootbox.min.js}"></script>

</body>

</html>
